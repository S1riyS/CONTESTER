{% extends "admin/admin.html" %}

{% block css %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/task.css') }}">
    <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/forms.css') }}">
    <link rel="stylesheet" href="{{ url_for('admin.static', filename='css/switch_button.css') }}">
{% endblock %}

{% block js %}
    {{ super() }}
    <script type="module" src="{{ url_for('admin.static', filename='js/task.js') }}"></script>
{% endblock %}

{% block admin_content %}
    <div class="task">
        <form id="task_from" method="post" role="form">
            <h2 class="admin__title">Создать задачу</h2>
            <div class="path_to_task admin__block">
                <p class="admin__subtitle">Путь до задачи:</p>
                <div class="select_list">
                    <div class="select_field__wrapper">
                        {{ form.grade(class='select_field') }}
                    </div>
                    <div class="select_field__wrapper">
                        {{ form.topic(class='select_field') }}
                    </div>
                </div>
            </div>
            <div class="basic_information admin__block">
                <p class="admin__subtitle">Основная информация:</p>
                <div class="basic_information__main">
                    <div class="input_block">
                        <p class="input_block__title">Название:</p>
                        {{ form.task_name(type="text", class='input_field', placeholder='Название задачи') }}
                    </div>
                    <div class="input_block">
                        <p class="input_block__title">Условие:</p>
                        {{ form.condition(type="text", class='input_field auto_expand', placeholder='Условие задачи') }}
                    </div>
                </div>
            </div>
            <div class="example admin__block">
                <p class="admin__subtitle">Пример:</p>
                <div class="example__main">
                    <div class="input_block">
                        <p class="input_block__title">Ввод:</p>
                        {{ form.example_stdin(type="text", class='input_field auto_expand', placeholder='Ввод') }}
                    </div>
                    <div class="input_block">
                        <p class="input_block__title">Вывод:</p>
                        {{ form.example_stdout(type="text", class='input_field auto_expand', placeholder='Вывод') }}
                    </div>
                </div>
            </div>
            <div class="tests admin__block">
                <p class="admin__subtitle">Тесты:</p>
                <div class="tests__main" id="tests__main">
                    <div id="all_tests">
                        {# Tests' inputs will be here #}
                    </div>

                    <button class="create_test_button" id="create_test_button" type="button">
                        Добавить тест
                    </button>
                </div>
            </div>
            {{ form.submit(class="btn submit_button", id="submit", type="submit") }}
        </form>
    </div>
{% endblock %}